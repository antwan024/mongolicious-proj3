{"ast":null,"code":"import _defineProperty from \"/Users/antwan/Documents/School/mongolicious-proj3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/antwan/Documents/School/mongolicious-proj3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/antwan/Documents/School/mongolicious-proj3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/antwan/Documents/School/mongolicious-proj3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/antwan/Documents/School/mongolicious-proj3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/antwan/Documents/School/mongolicious-proj3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/antwan/Documents/School/mongolicious-proj3/client/src/pages/Events.js\";\nimport React, { Component } from \"react\";\nimport TaskInput from \"../components/TaskInput\";\nimport { CardBtn, Input, FormBtn } from \"../components/Form\";\nimport { Link } from \"react-router-dom\";\nimport AchievementCard from \"../components/AchievementCard\";\nimport API from \"../utils/API\";\nimport Nav from \"../components/Nav\";\nimport TotalPoints from \"../components/TotalPoints\";\nimport \"./styles.css\";\n\nvar Events =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Events, _React$Component);\n\n  function Events() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Events);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Events)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      events: [],\n      eventPoints: 0,\n      summary: \"\",\n      sponsor: \"\",\n      date: \"\",\n      voucherCode: \"\",\n      totalPoints: 0\n    };\n\n    _this.loadEvents = function () {\n      API.getEvents().then(function (res) {\n        return _this.setState({\n          events: res.data,\n          eventPoints: 0,\n          summary: \"\",\n          date: \"\",\n          voucherCode: \"\"\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.loadUserEvents = function () {\n      API.getUserEvents().then(function (res) {\n        return _this.setState({\n          events: res.data,\n          eventPoints: res.data.totalEventPoints,\n          summary: \"\",\n          date: \"\",\n          voucherCode: \"\"\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.deleteEvent = function (id) {\n      API.deleteEvent(id).then(function (res) {\n        return _this.loadEvents();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n\n      if (_this.state.summary) {\n        API.saveEvent({\n          summary: _this.state.summary,\n          date: _this.state.date,\n          voucherCode: _this.state.voucherCode,\n          eventPoints: _this.state.eventPoints\n        }) // .then(res => this.loadEvents())\n        .then(function (res) {\n          return _this.loadUserEvents();\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      }\n    };\n\n    _this.handleUserSubmit = function (event) {\n      event.preventDefault();\n\n      if (_this.state.summary) {\n        API.saveUserEvent({\n          summary: _this.state.summary\n        }).then(function (res) {\n          return _this.loadUserEvents();\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      }\n    };\n\n    _this.addPoints = function (event) {\n      event.preventDefault();\n      API.addPoints().then(function (res) {\n        return _this.addPoints();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Events, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadEvents();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Total Points: \", this.state.totalPoints), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, this.state.events.map(function (event) {\n        return (// <Link to={\"/events\" + event._id}>\n          React.createElement(\"div\", {\n            className: \"col s4\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, React.createElement(AchievementCard, {\n            key: event._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"card-image\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            className: \"image\",\n            src: function () {\n              switch (event.sponsor) {\n                case \"regal\":\n                  return \"/images/regal.png\";\n\n                case \"united\":\n                  return \"/images/united.jpg\";\n\n                case \"comedyworks\":\n                  return \"/images/comedy.jpg\";\n\n                case \"livenation\":\n                  return \"/images/livenation.jpg\";\n\n                case \"24 hour\":\n                  return \"/images/24hour.jpg\";\n\n                case \"corepower\":\n                  return \"/images/corepower.png\";\n\n                case \"whole foods\":\n                  return \"/images/wholefoods.jpg\";\n\n                default:\n                  return \"/images/best.jpg\";\n              }\n            }(),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          })), React.createElement(\"span\", {\n            className: \"card-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137\n            },\n            __self: this\n          }, event.eventPoints, \" Points\"), event.summary, React.createElement(\"a\", {\n            className: \"btn-floating halfway-fab waves-effect waves-light green lighten-4\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"material-icons\",\n            onClick: function onClick() {\n              _this2.state.totalPoints = _this2.state.totalPoints + event.eventPoints;\n\n              _this2.props.history.push({\n                pathname: \"/achievements\",\n                totalPoints: _this2.state.totalPoints // your data array of objects\n\n              });\n\n              _this2.deleteEvent(event._id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141\n            },\n            __self: this\n          }, \"add\"))))\n        );\n      })), React.createElement(\"script\", {\n        src: \"../src/misc/jquery.js\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Events;\n}(React.Component);\n\nexport default Events;","map":{"version":3,"sources":["/Users/antwan/Documents/School/mongolicious-proj3/client/src/pages/Events.js"],"names":["React","Component","TaskInput","CardBtn","Input","FormBtn","Link","AchievementCard","API","Nav","TotalPoints","Events","state","events","eventPoints","summary","sponsor","date","voucherCode","totalPoints","loadEvents","getEvents","then","res","setState","data","catch","err","console","log","loadUserEvents","getUserEvents","totalEventPoints","deleteEvent","id","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault","saveEvent","handleUserSubmit","saveUserEvent","addPoints","map","_id","props","history","push","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport TaskInput from \"../components/TaskInput\";\nimport { CardBtn, Input, FormBtn } from \"../components/Form\";\nimport { Link } from \"react-router-dom\";\nimport AchievementCard from \"../components/AchievementCard\";\nimport API from \"../utils/API\";\nimport Nav from \"../components/Nav\";\nimport TotalPoints from \"../components/TotalPoints\";\nimport \"./styles.css\";\n\nclass Events extends React.Component {\n  state = {\n    events: [],\n    eventPoints: 0,\n    summary: \"\",\n    sponsor: \"\",\n    date: \"\",\n    voucherCode: \"\",\n    totalPoints: 0\n  };\n\n  componentDidMount() {\n    this.loadEvents();\n  }\n\n  loadEvents = () => {\n    API.getEvents()\n      .then(res =>\n        this.setState({\n          events: res.data,\n          eventPoints: 0,\n          summary: \"\",\n          date: \"\",\n          voucherCode: \"\"\n        })\n      )\n      .catch(err => console.log(err));\n  };\n\n  loadUserEvents = () => {\n    API.getUserEvents()\n      .then(res =>\n        this.setState({\n          events: res.data,\n          eventPoints: res.data.totalEventPoints,\n          summary: \"\",\n          date: \"\",\n          voucherCode: \"\"\n        })\n      )\n      .catch(err => console.log(err));\n  };\n\n  deleteEvent = id => {\n    API.deleteEvent(id)\n      .then(res => this.loadEvents())\n      .catch(err => console.log(err));\n  };\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    if (this.state.summary) {\n      API.saveEvent({\n        summary: this.state.summary,\n        date: this.state.date,\n        voucherCode: this.state.voucherCode,\n        eventPoints: this.state.eventPoints\n      })\n        // .then(res => this.loadEvents())\n        .then(res => this.loadUserEvents())\n        .catch(err => console.log(err));\n    }\n  };\n\n  handleUserSubmit = event => {\n    event.preventDefault();\n    if (this.state.summary) {\n      API.saveUserEvent({\n        summary: this.state.summary\n      })\n        .then(res => this.loadUserEvents())\n        .catch(err => console.log(err));\n    }\n  };\n\n  addPoints = event => {\n    event.preventDefault();\n    API.addPoints()\n      .then(res => this.addPoints())\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    return (\n      <div>\n        <Nav />\n\n        <h2>Total Points: {this.state.totalPoints}</h2>\n\n        <div className=\"row\">\n          {this.state.events.map(event => (\n            // <Link to={\"/events\" + event._id}>\n            <div className=\"col s4\">\n              <AchievementCard key={event._id}>\n                <div className=\"card-image\">\n                  <img\n                    className=\"image\"\n                    src={(() => {\n                      switch (event.sponsor) {\n                        case \"regal\":\n                          return \"/images/regal.png\";\n                        case \"united\":\n                          return \"/images/united.jpg\";\n                        case \"comedyworks\":\n                          return \"/images/comedy.jpg\";\n                        case \"livenation\":\n                          return \"/images/livenation.jpg\";\n                        case \"24 hour\":\n                          return \"/images/24hour.jpg\";\n                        case \"corepower\":\n                          return \"/images/corepower.png\";\n                        case \"whole foods\":\n                          return \"/images/wholefoods.jpg\";\n                        default:\n                          return \"/images/best.jpg\";\n                      }\n                    })()}\n                  />\n                </div>\n                <span className=\"card-title\">{event.eventPoints} Points</span>\n                {event.summary}\n\n                <a className=\"btn-floating halfway-fab waves-effect waves-light green lighten-4\">\n                  <i\n                    className=\"material-icons\"\n                    onClick={() => {\n                      this.state.totalPoints =\n                        this.state.totalPoints + event.eventPoints;\n                      this.props.history.push({\n                        pathname: \"/achievements\",\n                        totalPoints: this.state.totalPoints // your data array of objects\n                      });\n                      this.deleteEvent(event._id);\n                    }}\n                  >\n                    add\n                  </i>\n                </a>\n              </AchievementCard>\n            </div>\n          ))}\n        </div>\n        <script src=\"../src/misc/jquery.js\"></script>\n      </div>\n    );\n  }\n}\n\nexport default Events;\n"]},"metadata":{},"sourceType":"module"}